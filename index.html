<html>

  <script src="http://cdn.dashjs.org/latest/dash.all.min.js"></script>
  <title>Adaptive Streaming</title>
	<meta charset="utf-8"/>


<script>
    var player, targetLatency, minDrift, catchupPlaybackRate, liveCatchupLatencyThreshold;


	function applyParameters() {
        	targetLatency = parseFloat(document.getElementById("target-latency").value, 10);
        	minDrift = parseFloat(document.getElementById("min-drift").value, 10);
        	catchupPlaybackRate = parseFloat(document.getElementById("catchup-playback-rate").value, 10);
       		liveCatchupLatencyThreshold = parseFloat(document.getElementById("catchup-threshold").value, 10);

        player.updateSettings({
            	streaming: {
                	liveDelay: targetLatency,
                	liveCatchup: {
                    		minDrift: minDrift,
                    		playbackRate: catchupPlaybackRate,
                    		latencyThreshold: liveCatchupLatencyThreshold,
                }
            }
        });
    }

    function init() {
        var video,
            url = "output/vidmanf.mpd";

        video = document.querySelector("video");
        player = dashjs.MediaPlayer().create();
        player.initialize(video, url, true);
        player.updateSettings({'streaming': {'lowLatencyEnabled': true}});

        applyParameters();

        return player;
    }

function updateHTML(elmId, value) {
  var elem = document.getElementById(elmId);
  if(typeof elem !== 'undefined' && elem !== null) {
    elem.innerHTML = value;
  }
}
</script>
<body>
<div>
    <video controls="true">
    </video>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        init();
    });
</script>
</body>
</html>
